// Generated by ReluxScript compiler
// Do not edit manually

module.exports = function({ types: t }) {
  
  class Template {
  constructor(path, template, bindings) {
      this.path = path;
      this.template = template;
      this.bindings = bindings;
    }
  }
  
  class Config {
  constructor(name, version, features) {
      this.name = name;
      this.version = version;
      this.features = features;
    }
  }
  
  class Component {
  constructor(name, templates, props) {
      this.name = name;
      this.templates = templates;
      this.props = props;
    }
  }
  
  class Prop {
  constructor(name, prop_type, optional) {
      this.name = name;
      this.prop_type = prop_type;
      this.optional = optional;
    }
  }
  
  function test_serialize_basic() {
    const template = { path: "0.1.2", template: "${count}", bindings: ["count"] };
    const json_str = JSON.stringify(template);
    return json_str;
  }
  
  function test_serialize_pretty() {
    const config = { name: "my-plugin", version: "1.0.0", features: ["hooks", "jsx", "typescript"] };
    const json_str = JSON.stringify(config, null, 2);
    return json_str;
  }
  
  function test_manual_object() {
    let obj = json.object();
    obj.set("name", json.string("MyComponent"));
    obj.set("version", json.number(1));
    obj.set("enabled", json.boolean(true));
    return json.stringify(obj);
  }
  
  function test_manual_array() {
    let arr = json.array();
    arr.push(json.string("item1"));
    arr.push(json.string("item2"));
    arr.push(json.number(42));
    return json.stringify(arr);
  }
  
  function save_config(config, path) {
    const json_str = JSON.stringify(config, null, 2);
    fs.writeFileSync(path, json_str);
  }
  
  let state = {};
  
  return {
    visitor: {
      Program(path) {
        const node = path.node;
        let names = [];
        node.body.forEach((item, __idx_0) => {
          if ((t.isFunctionDeclaration(item))) {
            names.push(item.id.name);
          }
        });
        const json_str = JSON.stringify(names, null, 2);
        const path = "output/names.json";
        fs.writeFileSync(path, json_str);
      }
    }
  };
};
