// Generated by ReluxScript compiler
// Do not edit manually

module.exports = function({ types: t }) {
  
  class ExtractedData {
  constructor(hooks, templates) {
      this.hooks = hooks;
      this.templates = templates;
    }
  }
  
  let state = {};
  
  return {
    visitor: {
      FunctionDeclaration(path) {
        const node = path.node;
        let data = { hooks: [], templates: [] };
        const __iflet_4 = node.body;
        if (__iflet_4 !== null && __iflet_4 !== undefined) {
          const body = __iflet_4;
          const __visitor_0 = {
            state: {
              hook_count: 0,
            },
            CallExpression(path) {
              const call = path.node;
              if ((t.isIdentifier(call.callee))) {
                const name = call.callee.name;
                if (name.startsWith("use")) {
                  data.hooks.push(name);
                  this.state.hook_count += 1;
                }
              }
            },
          };
          path.get('body').traverse(__visitor_0);
          const __visitor_1 = {
            JSXElement(path) {
              const jsx = path.node;
              const tag = jsx.opening.name;
              data.templates.push(tag);
            },
          };
          path.get('body').traverse(__visitor_1);
        }
        return data;
      },
      Program(path) {
        const node = path.node;
        let components = [];
        let total_hooks = 0;
        node.body.forEach((item, __idx_0) => {
          if ((t.isFunctionDeclaration(item))) {
            const func = item;
            // Captures: [&mut components, &mut total_hooks]
            const __visitor_2 = {
              CallExpression(path) {
                const call = path.node;
                if ((t.isIdentifier(call.callee))) {
                  if (call.callee.name.startsWith("use")) {
                    total_hooks += 1;
                  }
                }
              },
            };
            path.get(`body.${__idx_0}.body`).traverse(__visitor_2);
            components.push(func.id.name);
          }
        });
      }
    }
  };
};
